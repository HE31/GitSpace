define("module/util",["jquery"],function(t){t.AXD=t.AXD||{versions:"aixuedai1.0"},t.AXD.util={isIE6:function(){return t.browser.msie&&"6.0"==t.browser.version?!0:!1},isIOS:function(){return/\((iPhone|iPad|iPod)/i.test(navigator.userAgent)},isValidReg:function(t){var e=/<|>|\[|\]|\{|\}|『|』|※|○|●|◎|§|△|▲|☆|★|◇|◆|□|▼|㊣|﹋|⊕|⊙|〒|ㄅ|ㄆ|ㄇ|ㄈ|ㄉ|ㄊ|ㄋ|ㄌ|ㄍ|ㄎ|ㄏ|ㄐ|ㄑ|ㄒ|ㄓ|ㄔ|ㄕ|ㄖ|ㄗ|ㄘ|ㄙ|ㄚ|ㄛ|ㄜ|ㄝ|ㄞ|ㄟ|ㄢ|ㄣ|ㄤ|ㄥ|ㄦ|ㄧ|ㄨ|ㄩ|■|▄|▆|\*|@|#|\^|\\/;return 1==e.test(t)?!1:!0},isValidURL:function(e){var i=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(\S+\.\S+)$/;return t.AXD.util.isNULL(e)?!1:(e=t.AXD.util.trim(e),null==e.match(i)?!1:!0)},isValidDomain:function(e){var i=/^(\S+\.\S+)$/;return t.AXD.util.isNULL(e)?!1:(e=t.AXD.util.trim(e),null==e.match(i)?!1:!0)},isEmail:function(t){var e=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(t)?!0:!1},isPhoneNumber:function(t){var e=/^1[0-9]{10}$/;return e.test(t)?!0:!1},isDate:function(t){var e=/^(\d{4})\-(\d{1,2})\-(\d{1,2})$/;return e.test(t)?!0:!1},isNumber:function(t){var e=/^\d*$/;return null==t.match(e)?!1:!0},isQq:function(t){var e=/^\d{5,10}$/;return e.test(t)?!0:!1},isDecimal:function(t){var e=/^\d{0,8}\.{0,1}(\d{1,2})?$/;return null==t.match(e)?!1:!0},isValidPost:function(t){var e=/^\d{6}$/;return null==t.match(e)?!1:!0},isCERT:function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return null==t.match(e)?!1:!0},getBrithday:function(t){var e="";return e=15==t.length?"19"+t.substring(6,8):t.substring(6,10)},isAdult:function(e){var i=parseInt(t.AXD.util.getBrithday(e)),a=parseInt((new Date).getFullYear());return a-i>=18?!0:!1},isBirthday:function(t){var e=/\d{4}-\d{2}-\d{2}/;return null==t.match(e)?!1:!0},requestPrameVal:function(t){var e=location.href,a=e.substring(e.indexOf("?")+1,e.length).split("&"),n={};for(i=0;j=a[i];i++)n[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);var o=n[t.toLowerCase()];return"undefined"==typeof o?"":o},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},lTrim:function(t){return t.replace(/(^\s*)/g,"")},rTrim:function(t){return t.replace(/(\s*$)/g,"")},isNULL:function(e){return null==e?!0:0==t.AXD.util.trim(e).length?!0:!1},isInt:function(t){var e=/^(-|\+)?\d+$/;return e.test(t)},getMsgLength:function(t){for(var e=0,i=t.length,a=0;i>a;a++){var n=t.charCodeAt(a);e+=n>=1&&126>=n||n>=65376&&65439>=n?.5:1}return e},checkAll:function(t){if(null!=t)for(i=0;i<t.length;i++)t[i].checked=!0},uncheckAll:function(t){if(null!=t)for(i=0;i<t.length;i++)t[i].checked=!1},getWordLength:function(e){e=t.AXD.util.trim(e);var i=0,a=0;return a=e.replace(/[^\x00-\xff]/g,"**").length,i=parseInt(a/2)==a/2?a/2:parseInt(a/2)+1},getDomain:function(t){var e="null";("undefined"==typeof t||null==t)&&(t=window.location.href);var i=/.*\:\/\/([^\/]*).*/,a=t.match(i);return"undefined"!=typeof a&&null!=a&&(e=a[1]),e},addFavorite:function(t,e){var i=-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL";document.all?window.external.addFavorite(t,e):window.sidebar?window.sidebar.addPanel(t,e,""):alert("您可以尝试通过快捷键"+i+" + D 加入到收藏夹~")},addNDays:function(t,e){var i=new Date(Date.parse(t.replace(/-/g,"/")));return i.setDate(i.getDate()+parseInt(e)),i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()},getUrlParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},getPosition:function(e){var i=e.offset().top,a=e.offset().left,n=i+e.outerHeight(),o=a+e.outerWidth(),s=a+e.outerWidth()/2,r=i+e.outerHeight()/2;/iPad/i.test(navigator.userAgent)&&(i-=t(window).scrollTop(),n-=t(window).scrollTop(),r-=t(window).scrollTop());var l={leftTop:function(){return{x:a,y:i}},leftMid:function(){return{x:a,y:r}},leftBottom:function(){return{x:a,y:n}},topMid:function(){return{x:s,y:i}},rightTop:function(){return{x:o,y:i}},rightMid:function(){return{x:o,y:r}},rightBottom:function(){return{x:o,y:n}},MidBottom:function(){return{x:s,y:n}},middle:function(){return{x:s,y:r}}};return l},queryTransform:function(){for(var t=location.search.slice(1).split("&"),e={},i="",a=0,n=t.length;n>a;a++)i=t[a].split("="),i.length>1&&(e[i[0]]=i[1]);return e},toDecimal2:function(t){var e=parseFloat(t);if(isNaN(e))return!1;var e=Math.round(100*t)/100,i=e.toString(),a=i.indexOf(".");for(0>a&&(a=i.length,i+=".");i.length<=a+2;)i+="0";return i}},t.fn.extend({disableBtn:function(){t(this).addClass("disabled")},enableBtn:function(){var e=t(this);setTimeout(function(){e.removeClass("disabled")},100)}}),Array.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1})}),define("module/dialog",["jquery","module/util","jqtools","overlay"],function(t){t.AXD.dialog={conf:{id:"J_AXDDialog",title:"提示",html:"",callback:function(){},showtitle:!0,showclose:!0,showMask:!0,width:"",closecallback:function(){}},init:function(e){var i=t.AXD.dialog.conf;e&&t.extend(i,e);var a=i.id,n=""!==i.width?"width:"+i.width+"!important":"";if(t("#"+a)[0])t("#"+a).data("overlay").load();else{var o="";o+='<div id="'+a+'" class="g-dialog" style="'+n+'">',i.showtitle&&(o+='<div class="hd">',o+="<h3>"+i.title+"</h3>",o+="</div>"),o+='<div class="bd">',o+=i.html,o+="</div>",i.showclose&&(o+='<a class="common-icon close" href="javascript:;"></a>'),o+="</div>",t("body").append(o);var s={top:"center",oneInstance:!1,closeOnClick:!1,load:!0,closeOnEsc:!1};i.showMask&&(s.mask={color:"#000",loadSpeed:200,closeSpeed:0,opacity:.3}),t("#"+a).overlay(s),0==i.showclose&&t("#"+a+" .close").remove(),t("#"+a+" .close").unbind().bind("click",function(){t("#"+a).data("overlay").close(),t("#"+a).remove(),i.closecallback()}),t("#"+a+" .close-dialog").bind("click",function(){t("#"+a).data("overlay").close(),t("#"+a).remove()}),i.callback()}},confirm:function(e,i){var a='<div class="clearfix unit mt10" style="height:60px;font-size:16px;text-align: center;">'+e+"</div>";a+='<div class="clearfix unit mt10" style="width: 306px;"><a href="javascript:;" class="btn common-btn mr10 gray fl close-dialog">否</a><a href="javascript:;" class="btn common-btn  orange fl J_Save">是</a></div>',t.AXD.dialog.init({id:"J_Confirm",title:"提示",html:a,showtitle:!0,width:"500px",callback:function(){t("#J_Confirm .J_Save").off("click").live("click",function(){"function"==typeof i&&i()})}})},complete:function(e,i,a){t.AXD.dialog.init({id:"J_CompleteDialog",title:"",html:e,showtitle:!1,showclose:!1,width:"500px",callback:function(){var e=a||3,n=setInterval(function(){e--,t("#J_CompleteDialog em").text(e),0==e&&(t("#J_CompleteDialog").data("overlay").close(),clearInterval(n),"function"==typeof i&&i())},1e3)}})}}}),define("module/extendfn",["jquery","module/util"],function(t){t.fn.extend({dropdown:function(e){var i={classNm:".dropdown",timer:null,fadeSpeed:100,duration:2e3};e&&t.extend(i,e);var a=this,n=t(i.classNm);a.each(function(){var e=t(this);e.hover(function(){clearTimeout(i.timer),n.fadeIn(i.fadeSpeed)},function(){i.timer=setTimeout(function(){n.fadeOut(i.fadeSpeed)},i.duration)}),n.hover(function(){clearTimeout(i.timer),n.show()},function(){i.timer=setTimeout(function(){n.fadeOut(i.fadeSpeed)},i.duration)})})},insertAtCursor:function(e){var i=t(this)[0];if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=e,this.focus();else if(i.selectionStart||"0"==i.selectionStart){var a=i.selectionStart,n=i.selectionEnd,o=i.scrollTop;i.value=i.value.substring(0,a)+e+i.value.substring(n,i.value.length),this.focus(),i.selectionStart=a+e.length,i.selectionEnd=a+e.length,i.scrollTop=o}else this.value+=e,this.focus()},disableBtn:function(){t(this).addClass("disabled")},enableBtn:function(){var e=t(this);setTimeout(function(){e.removeClass("disabled")},500)},validatePhone:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,oldtel:""},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入手机号"),void n.show()):t.AXD.util.isPhoneNumber(e)?""!==a.oldtel&&e===a.oldtel?(n.find(".msg").text("新手机号不能与原手机号相同"),void n.show()):(n.hide(),void o.show()):(n.find(".msg").text("请输入正确的手机号"),void n.show())})},validateAcount:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入帐号"),void n.show()):void n.hide()})},validateAcountPassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入密码"),void n.show()):void n.hide()})},validateNomalName:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,msg:"请填写"},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text(a.msg),void n.show()):void n.hide()})},validatecheckbox:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var t=i.closest(a.parentclass).find(a.errorclass).eq(a.index),e=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return t.hide(),e.hide(),"checked"!=i.attr("checked")?(t.find(".msg").text("请先同意合约"),void t.show()):void t.hide()})},validateVerifyImg:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入图形验证码"),void n.show()):void n.hide()})},validateTelcode:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入手机验证码"),void n.show()):void n.hide()})},validateAichuangcode:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),e.length>10?(n.find(".msg").text("爱创码格式不正确"),void n.show()):isNaN(e)?(n.find(".msg").text("爱创码格式不正确"),void n.show()):void n.hide()})},validatePayPassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,action:""},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入密码"),void n.show()):6!=e.length?(n.find(".msg").text("密码长度为6位数字"),void n.show()):/[0-9]+/.test(e)?void n.hide():(n.find(".msg").text("密码由6位数字组成"),void n.show())})},validateNPayPassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,oldpwd:t(".oldpwd")},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入新密码"),void n.show()):e==t.trim(a.oldpwd.val())?(n.find(".msg").text("新密码不能和原密码一致"),void n.show()):6!=e.length?(n.find(".msg").text("密码长度为6位数字"),void n.show()):/[0-9]+/.test(e)?void n.hide():(n.find(".msg").text("密码由6位数字组成"),void n.show())})},validatePassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,action:""},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入密码"),void n.show()):"login"!=a.action&&"modifypassword"!=a.action?e.length<8?(n.find(".msg").text("密码长度为8-16位数字,字母组合而成"),void n.show()):e.length>16?(n.find(".msg").text("密码长度必须小于16位"),void n.show()):/[a-zA-Z]+/.test(e)&&/[0-9]+/.test(e)?void n.hide():(n.find(".msg").text("密码由8-16位数字,字母组合而成"),void n.show()):void 0})},validateNPassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,oldpwd:t(".oldpwd")},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入新密码"),void n.show()):e==t.trim(a.oldpwd.val())?(n.find(".msg").text("新密码不能和原密码一致"),void n.show()):e.length<8?(n.find(".msg").text("密码长度必须大于8位"),void n.show()):e.length>16?(n.find(".msg").text("密码长度必须小于16位"),void n.show()):/[a-zA-Z]+/.test(e)&&/[0-9]+/.test(e)?void n.hide():(n.find(".msg").text("密码由8-16位数字，英文，特殊符号组合而成"),void n.show())})},validateCPassword:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0,pwd:t(".pwd")},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请再次输入密码"),void n.show()):e!=t.trim(a.pwd.val())?(n.find(".msg").text("两次密码输入不一致"),void n.show()):void n.hide()})},validateName:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入真实姓名"),void n.show()):(n.hide(),void o.show())})},validateCert:function(e){var i=t(this),a=t.extend({errorclass:".base-error",rightclass:".base-right",parentclass:".unit",index:0},e);i.live("blur",function(){var e=t.trim(i.val()),n=i.closest(a.parentclass).find(a.errorclass).eq(a.index),o=i.closest(a.parentclass).find(a.rightclass).eq(a.index);return n.hide(),o.hide(),""==e?(n.find(".msg").text("请输入身份证号码"),void n.show()):void t.post(aixuedai.path+"user/checkCert",{cert:e},function(t){t&&(100==t.status?(n.hide(),o.show()):(n.find(".msg").text(t.info),n.show()))})})}})}),define("module/tipshow",["jquery","module/util"],function(t){t.AXD.tip={conf:{timer:null,timerLength:3e3,tipClass:"tipmodal tipmodal-error"},show:function(e,i){clearTimeout(t.AXD.tip.conf.timer);var a=t.AXD.util.getPosition(e).topMid();t(".tipbox")[0]||t("body").append('<div class="tipbox "'+i+"></div>"),t(".tipbox").attr("class","tipbox "+t.AXD.tip.conf.tipClass),t(".tipbox").html(i);var n=t(".tipbox").outerWidth(),o=t(".tipbox").outerHeight();t(".tipbox").css({left:a.x-n/2+"px",top:a.y-o-10+"px"}).fadeIn(),t.AXD.tip.conf.timer=setTimeout(function(){t(".tipbox").fadeOut()},t.AXD.tip.conf.timerLength)}}}),define("module/getverificationcode",["jquery","module/util","module/tipshow"],function(t){function e(e){a=null,nowSecond=60,e.html('<em id="J_Countdown">60</em>秒后重新发送'),a=setInterval(function(){0==nowSecond?(clearInterval(a),e.html("获取短信验证码"),e.removeClass("disabled timing")):(nowSecond-=1,t("#J_Countdown").text(nowSecond),e.addClass("disabled timing"))},1e3)}function i(t){clearInterval(a),t.html("获取短信验证码"),t.removeClass("disabled timing")}var a=null;t.fn.getVerifactionCode=function(n){var o={url:aixuedai.path+"common/sendCodeMsg",telselector:"",smstype:"",oldtel:"",failcallback:null};o=t.extend(o,n),t(this).on("click",function(){var n=t(this);if(!t(this).hasClass("disabled")){var s=o.telValue?o.telValue:t.trim(t(o.telselector).val());if(""==s)return t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(n,"手机号码不能为空!"),!1;if(!t.AXD.util.isPhoneNumber(s))return t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(n,"手机号码格式不正确"),!1;if(""!==o.oldtel&&s===o.oldtel)return t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(n,"新手机号不能与原手机号相同"),!1;a&&clearInterval(a),e(t(this));var r=o.virifyselector?t.trim(t(o.virifyselector).val()):"";t.ajax({url:o.url,type:"post",dataType:"json",data:{telphone:s,smstype:o.smstype,verify:r},success:function(e){e&&(e.ret.success===!0?(t.AXD.tip.conf.tipClass="tipmodal tipmodal-ok",t.AXD.tip.show(n,e.ret.resultDes)):"function"==typeof o.failcallback?(i(n),o.failcallback(e)):(t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(n,e.ret.resultDes)),o.virifyselector&&t(o.virifyselector).parent().find("img").attr("src",aixuedai.path+"vcode?t="+Math.random()))},error:function(){t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(n,"服务器繁忙，请稍候再试!")}})}})}}),define("module/setPayPassword",["jquery","module/util","module/extendfn","jqtools","module/dialog","module/tipshow","module/getverificationcode"],function(t){t(function(){function e(){t("#J_ModifyOldPwd_Pay").validatePayPassword({parentclass:".modify-paypwd-box",index:0,action:"modifypassword"}),t("#J_ModifyPwd_Pay").validateNPayPassword({parentclass:".modify-paypwd-box",index:1,oldpwd:t("#J_ModifyOldPwd_Pay")}),t("#J_ModifyCPwd_Pay").validateCPassword({parentclass:".modify-paypwd-box",index:2,pwd:t("#J_ModifyPwd_Pay")}),t("#J_PwdBtn_Pay").click(function(){var e=t(this),i=!1;if(!e.hasClass("disabled")&&(t(".modify-paypwd-box .base-input").trigger("blur"),t(".modify-paypwd-box .base-error").each(function(){var e=t(this);return"block"==e.css("display")?void(i=!0):void 0}),!i)){var a=t.trim(t("#J_ModifyOldPwd_Pay").val()),n=t.trim(t("#J_ModifyPwd_Pay").val());t.trim(t("#J_ModifyCPwd_Pay").val());e.disableBtn(),t.ajax({url:"/mall/safe/modifyPayPwd",type:"post",dataType:"json",data:{password:a,newPwd:n},success:function(i){if(i)if(i.ret.success===!0){var a="";a+="<div>",a+='<h3 class="fs18 tac">支付密码修改成功！</h3>',a+='<div class="mt20 tac intro-color fs14"><em class="red-color">3</em>秒后关闭窗口。</div>',a+="</div>",t("#editPaypwd").hide(),t.AXD.dialog.complete(a,function(){window.location.reload()})}else t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,i.ret.resultDes),e.enableBtn()},error:function(){t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,"服务器繁忙，请稍候再试!"),e.enableBtn()}})}})}function i(){t("#J_Cardid").validateNomalName({parentclass:".set-paypwd-box",index:0,msg:"请输入身份证号后四位"}),t("#J_ModifyPwd_Pay2").validateNPayPassword({parentclass:".set-paypwd-box",index:1}),t("#J_ModifyCPwd_Pay2").validateCPassword({parentclass:".set-paypwd-box",index:2,pwd:t("#J_ModifyPwd_Pay2")}),t("#J_PwdBtn_Pay2").click(function(){var e=t(this),i=!1;if(!e.hasClass("disabled")&&(t(".set-paypwd-box .base-input").trigger("blur"),t(".set-paypwd-box .base-error").each(function(){var e=t(this);return"block"==e.css("display")?void(i=!0):void 0}),!i)){var a=t.trim(t("#J_ModifyPwd_Pay2").val()),n=t.trim(t("#J_Cardid").val());e.disableBtn(),t.ajax({url:"/mall/safe/paypwd/set",type:"post",dataType:"json",data:{card:n,pwd:a},success:function(i){if(i)if(i.ret.success===!0){var a="";a+="<div>",a+='<h3 class="fs18 tac">支付密码设置成功！</h3>',a+="</div>",t("#setPaypwd").hide(),t.AXD.dialog.complete(a,function(){window.location.reload()})}else t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,i.ret.resultDes),e.enableBtn()},error:function(){t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,"服务器繁忙，请稍候再试!"),e.enableBtn()}})}})}function a(){t("#findPaygpwd .code-btn").getVerifactionCode({smstype:"normal",telValue:t(".bangTel").attr("data-tel")}),t("#J_PayCode").validateNomalName({parentclass:".modify-payfind-box",index:0,msg:"请输入验证码"}),t("#J_ModifyPwd_PayFind").validateNPayPassword({parentclass:".modify-payfind-box",index:1}),t("#J_ModifyCPwd_PayFind").validateCPassword({parentclass:".modify-payfind-box",index:2,pwd:t("#J_ModifyPwd_PayFind")}),t("#J_PwdBtn_PayFind").click(function(){var e=t(this),i=!1;if(!e.hasClass("disabled")&&(t(".modify-payfind-box .base-input").trigger("blur"),t(".modify-payfind-box .base-error").each(function(){var e=t(this);return"block"==e.css("display")?void(i=!0):void 0}),!i)){var a=t.trim(t("#J_PayCode").val()),n=t.trim(t("#J_ModifyPwd_PayFind").val());t.trim(t("#J_ModifyCPwd_PayFind").val());e.disableBtn(),t.ajax({url:"/mall/safe/resetPayPwd",type:"post",dataType:"json",data:{phone:t(".bangTel").attr("data-tel"),checkCode:a,newPwd:n},success:function(i){if(i)if(i.ret.success===!0){var a="";a+="<div>",a+='<h3 class="fs18 tac">找回支付密码成功！</h3>',a+='<div class="mt20 tac intro-color fs14"><em class="red-color">3</em>秒后关闭窗口。</div>',a+="</div>","/mall/safe/payCenter.html"!=window.location.pathname&&t("#findPaygpwd").hide(),t(".g-dialog").remove(),t.AXD.dialog.complete(a,function(){window.location.reload()})}else t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,i.ret.resultDes),e.enableBtn()},error:function(){t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(e,"服务器繁忙，请稍候再试!"),e.enableBtn()}})}})}var n='<div class="set-paypwd-box pl40"><div class="unit clearfix mb20"><label class="fl">身份证后四位:</label><input type="text" id="J_Cardid" maxlength="4" class="base-input fl" placeholder="请输入身份证号后四位"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div></div><div class="unit clearfix mb20"><label class="fl">支付密码:</label><input type="password" id="J_ModifyPwd_Pay2" maxlength="6" class="base-input fl" placeholder="请设置6位数字密码"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div></div><div class="unit clearfix mb30"><label class="fl">再输一次:</label><input type="password" id="J_ModifyCPwd_Pay2" maxlength="6" class="base-input fl"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div></div><p class="mlnext"><a id="J_PwdBtn_Pay2" class="common-btn orange mr30">完 成</a></p></div>',o='<div class="modify-paypwd-box pl40"> <div class="unit clearfix mb20"> <label class="fl">旧支付密码:</label> <input type="password" id="J_ModifyOldPwd_Pay" maxlength="6" class="base-input fl" placeholder="请输入旧密码"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div> </div> <div class="unit clearfix mb20"> <label class="fl">新支付密码:</label> <input type="password" id="J_ModifyPwd_Pay" maxlength="6" class="base-input fl" placeholder="请设置6位数字密码"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div> </div> <div class="unit clearfix mb30"> <label class="fl">再输一次:</label> <input type="password" id="J_ModifyCPwd_Pay" maxlength="6" class="base-input fl"><div class="fl base-error"><span class="regError fs14 mt11 fl"></span><span class="msg fl"></span></div> </div> <p class="mlnext"><a id="J_PwdBtn_Pay" class="common-btn orange mr30 inblock">完 成</a><a class="ml20 blue-color eleb mt20 fs14 findPay">忘记支付密码？</a></p> </div>';t(document).on("click",".setPay",function(){t.AXD.dialog.init({id:"setPaypwd",title:"设置支付密码",html:n,showtitle:!0,width:"650px",callback:function(){i()}})}),t(document).on("click",".editPay, .editPay2",function(){t.AXD.dialog.init({id:"editPaypwd",title:"修改支付密码",html:o,showtitle:!0,width:"650px",callback:function(){e()}})}),t(document).on("click",".findPay",function(){t(".g-dialog").length>0&&t(".g-dialog").data("overlay").close(),t.AXD.dialog.init({id:"findPaygpwd",title:"找回支付密码",html:t("#findpwd").html(),showtitle:!0,width:"680px",callback:function(){a()}})}),t.AXD.initFindPayPwd=a,t.AXD.initFindPayPwdDialog=function(){t(".g-dialog").length>0&&t(".g-dialog").data("overlay").close(),t.AXD.dialog.init({id:"findPaygpwd",title:"找回支付密码",html:t("#findpwd").html(),showtitle:!0,width:"680px",callback:function(){a()}})},t.AXD.setPaypwd=function(){t(".g-dialog").length>0&&t(".g-dialog").data("overlay")&&t(".g-dialog").data("overlay").close();var e='<div class="clearfix unit  fs16 ml20 mr20 mt10"><h3 class="fs18">您的支付密码还未设置，请先设置支付密码</h3></div>';e+='<div class="clearfix unit  fs14 ml20 mr20 mt10">进行支付密码设置能保护您的账号资金安全</div>',e+='<div class="clearfix unit mt30 mb20" style="width: 306px;"><a href="javascript:;" class="btn common-btn mr10 gray fl close-dialog">取消</a><a href="javascript:;" class="btn common-btn  orange fl J_Save">马上设置</a></div>',t.AXD.dialog.init({id:"J_Confirm",title:"提示",html:e,showtitle:!0,width:"500px",callback:function(){t("#J_Confirm .J_Save").off("click").live("click",function(){t(".g-dialog").length>0&&t(".g-dialog").data("overlay").close(),t.AXD.dialog.init({id:"setPaypwd",title:"设置支付密码",html:n,showtitle:!0,width:"650px",callback:function(){i()}})})}})}})}),define("module/checkUserStatus",["jquery","module/util","module/dialog","module/setPayPassword"],function(t){t.AXD.checkUserStatus=function(e,i,a,n){var o=!1;return t.ajax({url:"/common/checkUserStatus",data:i,dataType:"json",type:"POST",async:!1,success:function(e){if(e.ret.success===!1){var i="";"STATUS10"===e.ret.code?(i="/login.html?url="+window.location.pathname+window.location.search,t.AXD.dialog.init({id:"J_Dialog",title:"",showtitle:!1,width:"500px",html:'<div class="pt20 pb20 tac fs16"><h2>请登入,三秒后自动跳转到登入页面~</h2></div>'}),setTimeout(function(){window.location.href=i},3e3)):"STATUS11"===e.ret.code||("STATUS13"===e.ret.code?t.AXD.setPaypwd():"STATUS12"===e.ret.code&&(i="/mall/goinfo.html?auth=true",t.AXD.dialog.init({id:"J_Dialog",title:"",showtitle:!1,width:"500px",html:'<div class="pt20 pb20 tac fs16"><h2>请验证用户信息,三秒后自动跳转验证页面~</h2></div>'}),setTimeout(function(){window.location.href=i},3e3))),o=!1}else o=!0},error:function(){o=!1}}),o}}),define("module/cartCount",["jquery","module/util"],function(t){t(function(){function e(){t.ajax({url:"/mall/cart/getCartCount",type:"POST",dataType:"json",success:function(e){t(".J_cart").find("b").text(e.cartCount)}})}t.AXD.getCartCount=e,aixuedai.userid>0&&e()})}),define("page/index/news",["jquery","module/util"],function(t){t(function(){function e(){t.ajax({url:"/mall/message/unreadnum",dataType:"json",data:{},type:"POST",success:function(e){e.ret.success?t(".H_newsNum").text(e.ret.result):alert(e.ret.resultDes)},error:function(){console.log("error")}})}function i(){t.ajax({url:"/mall/message/nearlNewsList",dataType:"json",data:{},type:"POST",success:function(e){if(e.issuccess){t(".newsFont").addClass("hasHover");var i="";t.each(e.bizObj.list,function(t,e){var a=e.isRead,n="";"y"==a&&(n="H_changeColor");var o=e.title,s=e.iconUrl,r=e.content,l=e.time,d=e.isOutlink,c=e.outlinkUrl;"y"===d&&null!==c&&""!==c&&"null"!==c||(c="javascript:"),i+='<a class="listNews '+n+'" data-id="'+e.id+'" href="'+c+'" target="_blank"><img src="'+aixuedai.staticpath+"/images/news/"+s+'" class="'+n+'"><p>'+o+'</p><span class="fr mr10 timeNews">'+l+'</span><p class="downFont cc9 fs12">'+r+"</p></a>"}),t(".news").html('<div class="hg5 fs14">未读消息(<b class="orange-color newsNum">'+t(".H_newsNum").text()+"</b>)</div>"+i+'<a class="chakan fs16 clearfix checkNews" href="/mall/message/gonews.html" target="_blank">查看所有消息</a>'),t(".newsFont").addClass("H_hover")}else alert(e.result.resultDes)},error:function(){console.log("error")}})}function a(e,a){t.ajax({url:"/mall/message/read",dataType:"json",type:"POST",data:{id:a},success:function(a){a.ret.success?(t(e).addClass("changeColor"),t(e).find(".img").addClass("changeColor"),i()):alert(a.ret.resultDes)},error:function(){console.log("error")}})}e();var n=null;t(".newsFont").mouseover(function(){t(".newsFont").hasClass("hasHover")?t(".news").slideDown():(t(".news").slideDown(),i()),n&&clearTimeout(n)}).mouseout(function(){n=setTimeout(function(){t(".news").slideUp(),clearTimeout(n)},500)}),t(document).on("click",'.listNews:not(".H_changeColor")',function(){var i=t(this).attr("data-id");a(this,i),e()})})}),define("main",["jquery","module/util","lazyload","module/dialog","module/checkUserStatus"],function(t){"use strict";t(function(){function e(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}e("_OkLJ_%UJ"),t("#J_PendantClose").on("click",function(e){t(this).closest(".pendant").fadeOut()}),t("#J_Report")[0]&&t("#J_Report").click(function(){var e="";e+='<div class="main">',e+='<a class="qqNumber fw fs16" target="blank" href="http://wpa.qq.com/msgrd?V=3&uin=2976373015&Site=爱学贷在线举报&Menu=yes">',e+="2976373015</a>",e+='<div class="email fw fs16">',e+="fengkongbu@aixuedai.com</div>",e+="</div>",t.AXD.dialog.init({id:"J_ReportBookDialog",title:"举报拿大奖",html:e,width:"900px"})}),aixuedai.userid>0&&requirejs(["module/cartCount","page/index/news"]),t("#J_menuTable")[0]&&(t(".header-bottom.fixed").find(".first").on("mouseenter",function(){t("#J_menuTable").animate({top:"44px"},300,"linear")}),t(".noIndexMenu").on("mouseenter",function(){t(document).scrollTop()<150&&(t("#J_noIndexMenuTable").parent().parent().find(".layout1200").css("height","400px"),t("#J_noIndexMenuTable").animate({top:"0px"},300,"linear"))}),t("#J_menuTable").on("mouseleave",function(){t("#J_menuTable").animate({top:"-355px"},300,"linear")}),t(".noIndexFixed").on("mouseleave",function(){t("#J_noIndexMenuTable").animate({top:"-345px"},300,"linear",function(){t("#J_noIndexMenuTable").parent().parent().find(".layout1200").css("height","0px")})}),t(window).scroll(function(){t("#J_menuTable").stop(),t("#J_menuTable").animate({top:"-347px"},300,"linear");var e=t(window).scrollTop();e>120?t.AXD.util.isIE6()||(t("#J_RSide").stop(),t("#J_RSide").animate({right:"0px"},"linear"),t("#header .header-bottom").addClass("fixed"),t(".menuBox .menu").stop(),t("#J_menuTable").show(),t(".menuBox .menu").animate({top:"-300px"},300,"linear")):t.AXD.util.isIE6()||(t("#J_RSide").stop(),t("#J_RSide").animate({right:"-80px"},"linear"),t("#header .header-bottom").removeClass("fixed"),t(".menuBox .menu").stop(),t("#J_menuTable").hide(),t(".menuBox .menu").animate({top:"0px"},300,"linear"))})),t("#J_RSide .to-top-icon").bind("click",function(){t("html,body").animate({scrollTop:"0px"},300)})})}),define("module/cookieFunc",["jquery","cookie","module/util"],function(t){function e(t,e){this.cookieName=t,this.url=e||""}return e.prototype={getProductCookie:function(e){t.ajax({type:"POST",url:this.url,data:{ids:t.parseJSON(t.cookie("productId"))?t.parseJSON(t.cookie("productId")).join(","):""},success:function(t){t?e.css("backgroundImage","none").append(t):e.remove()}})}},e}),define("module/addtoCart",["jquery"],function(t){function e(i,a){var n=this;n.$elem=t(i),n.options=t.extend({},e.DEFAULTS,a),n.options.auto&&n.$elem.on("click",function(t){t.preventDefault(),n.addtoCartFunc()})}e.DEFAULTS={width:50,heght:50,time:800,src:t(".J_proddItemImg"),target:t(".J_shopping-cart"),auto:!1,callback:null},e.prototype.addtoCartFunc=function(){var e,i=this,a=i.options.src,n=i.options.target;a&&0!==a.length||(a=t('<div id="J_proddItemImg"><img src="images/addtoCart.jpg" width="'+i.options.width+'" height="'+i.options.height+'" /></div')),e=a.clone(),e.is(":animated")||e.offset({top:i.$elem.offset().top-20,left:i.$elem.offset().left+i.$elem.width()/2-i.options.width/2}).appendTo(t("body")).css({opacity:"0.9",position:"absolute",height:i.options.height,width:i.options.width,"border-radius":"50%",border:"1px solid #dadada","z-index":"1000"}).animate({top:n.offset().top+30,left:n.offset().left},i.options.time,function(){e.stop(!1,!1).animate({
top:n.offset().top,left:n.offset().left+n.width()-15,width:0,height:0,opacity:0},i.options.time/2,function(){e.remove(),"function"==typeof callback&&callback(i.$elem,n)})})},t.fn.addtoCart=function(i){return this.each(function(){var a=t(this),n=a.data("axd.addtoCart"),o="object"==typeof i&&i;n||a.data("axd.addtoCart",n=new e(this,o))})}}),define("module/enlarge",["jquery"],function(t){var e={shadecolor:"#FFD24D",shadeborder:"#FF8000",shadeopacity:.5,cursor:"move",layerwidth:400,layerheight:400,layerborder:"#DDD",fade:!0,largewidth:1280,largeheight:960};t.fn.enlarge=function(i){return option=t.extend({},e,i),this.each(function(){var e=t(this).css("position","relative"),i=e.find("img").first(),a={x:i.width()/option.largewidth,y:i.height()/option.largeheight},n={shade:{width:option.layerwidth*a.x-2,height:option.layerheight*a.y-2}},o=t("<div>").css({position:"absolute",left:"0px",top:"0px","background-color":option.shadecolor,border:"1px solid "+option.shadeborder,width:n.shade.width,height:n.shade.height,opacity:option.shadeopacity,cursor:option.cursor});o.hide().appendTo(e);var s=t("<img>").css({position:"absolute",display:"block",width:option.largewidth,height:option.largeheight}),r=t("<div>").css({position:"absolute","z-index":100,left:e.width()+5,top:0,"background-color":"#fff",overflow:"hidden",width:option.layerwidth,height:option.layerheight,border:"1px solid "+option.layerborder});s.attr("src",i.attr("src")),s.appendTo(r),r.hide().appendTo(e);var l={x:n.shade.width/2,y:n.shade.height/2},d={width:e.innerWidth()-o.outerWidth(),height:e.innerHeight()-o.outerHeight()},c=e.offset(),u=function(){c=e.offset(),o.show(),option.fade?r.stop().fadeIn(300):r.show()},f=function(){o.hide(),r.hide()};e.mousemove(function(t){var i=t.pageX-c.left,n=t.pageY-c.top;return 0>i||i>e.innerWidth()?f():0>n||n>e.innerHeight()?f():(i-=l.x,n-=l.y,0>i&&(i=0),0>n&&(n=0),i>d.width&&(i=d.width),n>d.height&&(n=d.height),o.css({left:i,top:n}),void s.css({left:0-i/a.x,top:0-n/a.y}))}).mouseenter(u).mouseleave(f)})}}),define("module/numSelect",["jquery"],function(t){function e(i,a){var n=this;n.$elem=t(i),n.options=t.extend({},e.DEFAULTS,a),n.init()}e.DEFAULTS={callback:null},e.prototype.callback=function(t,e){"function"==typeof this.options.callback&&this.options.callback(t,e)},e.prototype.init=function(){var e=this,i=e.$elem.closest(".counts").find(".add"),a=e.$elem.closest(".counts").find(".sub");i[0]||(i=t('<a href="javascript:;" class="add">+</a>')),a[0]||(a=t('<a href="javascript:;" class="sub">&ndash;</a>'));var n=parseInt(e.$elem.attr("max-value"));n=n>10?10:n;var o=parseInt(e.$elem.val()||0);1>=o||0===n?a.addClass("unc"):a.removeClass("unc"),o>=n||0===n?i.addClass("unc"):i.removeClass("unc"),i.off("click").on("click",function(){if(!t(this).hasClass("unc")){a.removeClass("unc");var i=parseInt(e.$elem.val())+1,n=parseInt(e.$elem.attr("max-value"));if(n=n>10?10:n,i>=n)return t(this).addClass("unc"),e.$elem.val(i),void e.callback(e.$elem,i);e.callback(e.$elem,i),e.$elem.val(i)}}),a.off("click").on("click",function(){if(!t(this).hasClass("unc")){i.removeClass("unc");var a=parseInt(e.$elem.val())-1;if(1>=a)return e.$elem.val("1"),t(this).addClass("unc"),void e.callback(e.$elem,a);e.callback(e.$elem,a),e.$elem.val(a)}}),e.$elem.off("keyup").on("keyup",function(){if(i.removeClass("unc"),e.$elem.val()<=1)return e.$elem.val("1"),a.addClass("unc"),void e.callback(e.$elem,1);if(!e.$elem.val().match(/^\d+$/))return t(this).val("1"),a.addClass("unc"),void e.callback(e.$elem,1);var n=parseInt(e.$elem.attr("max-value"));if(n=n>10?10:n,e.$elem.val()>n)return e.$elem.val("1"),i.addClass("unc"),void e.callback(e.$elem,1);var o=t(this).val();e.callback(e.$elem,o)})},t.fn.numSelect=function(i){return this.each(function(){var a=t(this),n=a.data("axd.numSelect"),o="object"==typeof i&&i;n||a.data("axd.numSelect",n=new e(this,o))})}}),define("module/jquery.tips",["jquery"],function(t){t.fn.tips=function(e){var i={activation:"hover",keepAlive:!1,maxWidth:"300px",edgeOffset:3,direction_v:"top",direction_h:"left",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},a=t.extend(i,e);if(t("#tip_holder").length<=0){var n=t('<div id="tip_holder" style="max-width:'+a.maxWidth+';"></div>'),o=t('<div id="tip_content"></div>'),s=t('<div id="tip_arrow"></div>');t("body").append(n.html(o).prepend(s.html('<div id="tip_arrow_inner"></div>')))}else var n=t("#tip_holder"),o=t("#tip_content"),s=t("#tip_arrow");return this.each(function(){function e(){a.enter.call(this),o.html(l),n.hide().removeAttr("class").css("margin","0"),s.removeAttr("style"),d=parseInt(r.offset().top),c=parseInt(r.offset().left),u=parseInt(r.outerWidth()),f=parseInt(r.outerHeight()),p=n.outerWidth(),h=n.outerHeight(),m=Math.round((u-p)/2),v=Math.round((f-h)/2),g=Math.round(c+m),w=Math.round(d+f+a.edgeOffset),x="",b="",y=Math.round(p-12)/2,"bottom"==a.direction_v?x="_bottom":"top"==a.direction_v?x="_top":"left"==a.direction_v?x="_left":"right"==a.direction_v&&(x="_right");var e=m+c<parseInt(t(window).scrollLeft()),i=p+c>parseInt(t(window).width());e&&0>m||"_right"==x&&!i||"_left"==x&&c<p+a.edgeOffset+5?(x="_right",b=Math.round(h-13)/2,y=-12,g=Math.round(c+u+a.edgeOffset),w=Math.round(d+v)):(i&&0>m||"_left"==x&&!e)&&(x="_left",b=Math.round(h-13)/2,y=Math.round(p),g=Math.round(c-(p+a.edgeOffset+5)),w=Math.round(d+v));var k=d+f+a.edgeOffset+h+8>parseInt(t(window).height()+t(window).scrollTop()),C=d+f-(a.edgeOffset+h+8)<0;switch(k||"_bottom"==x&&k||"_top"==x&&!C?("_top"==x||"_bottom"==x?x="_top":x+="_top",b=h,w=Math.round(d-(h+5+a.edgeOffset))):(C|("_top"==x&&C)||"_bottom"==x&&!k)&&("_top"==x||"_bottom"==x?x="_bottom":x+="_bottom",b=-12,w=Math.round(d+f+a.edgeOffset)),"_right_top"==x||"_left_top"==x?w+=5:("_right_bottom"==x||"_left_bottom"==x)&&(w-=5),("_left_top"==x||"_left_bottom"==x)&&(g+=5),a.direction_h){case"left":g=Math.round(c),y=Math.round(u-12)/2;break;case"right":g=Math.round(c+u-p),y=Math.round(u-12)/2+p-u}s.css({"margin-left":y+"px","margin-top":b+"px"}),n.css({"margin-left":g+"px","margin-top":w+"px"}).attr("class","tip"+x),_&&clearTimeout(_),_=setTimeout(function(){n.stop(!0,!0).fadeIn(a.fadeIn)},a.delay)}function i(){a.exit.call(this),_&&clearTimeout(_),_=setTimeout(function(){n.fadeOut(a.fadeOut)},a.delay),t("#tip_holder").hover(function(){clearTimeout(_)},function(){_=setTimeout(function(){n.fadeOut(a.fadeOut)},a.delay)})}var r=t(this);if(a.content)var l=a.content;else var l=r.attr(a.attribute);if(""!=l){a.content||r.removeAttr(a.attribute);var d,c,u,f,p,h,m,v,g,w,x,b,y,_=!1;"hover"==a.activation?(r.hover(function(){e()},function(){a.keepAlive||i()}),a.keepAlive&&n.hover(function(){},function(){i()})):"focus"==a.activation?r.focus(function(){e()}).blur(function(){i()}):"click"==a.activation&&(r.click(function(){return e(),!1}).hover(function(){},function(){a.keepAlive||i()}),a.keepAlive&&n.hover(function(){},function(){i()}))}})}}),define("module/getCartConfirm",["jquery","module/util","module/dialog","module/setPayPassword"],function(t){t.AXD.getToCartConfirm=function(e,i,a,n){t.ajax({url:"/mall/cart/getToCartConfirm",data:i,dataType:"json",type:"POST",success:function(i){if(i.ret.success===!1){var n="";"STATUS10"===i.ret.code?(n="/login.html?url="+window.location.pathname+window.location.search,setTimeout(function(){window.location.href=n},1e3)):"STATUS11"===i.ret.code?t.AXD.tip.show(e,i.ret.resultDes):"STATUS13"===i.ret.code?t.AXD.setPaypwd():"STATUS12"===i.ret.code?(n="/mall/goinfo.html?auth=true",setTimeout(function(){window.location.href=n},1e3)):t.AXD.tip.show(e,i.ret.resultDes)}else a()},error:function(){n()}})}}),define("page/goods/detail",["jquery","module/cookieFunc","json","module/dialog","module/addtoCart","module/tipshow","module/enlarge","module/cartCount","module/numSelect","module/jquery.tips","cookie","module/getCartConfirm"],function(t,e){t(function(){function i(){var e=t("#payBack").attr("data-val"),i=t("#monthNum").attr("data-val"),a=parseInt(t("#J_price").val()),n={price:a,firstPayBl:e,monthday:i};"0"!=i&&t.ajax({url:"/mall/payment/aicai/fqmoney",data:n,dataType:"json",type:"POST",success:function(e){if(e.ret.success===!0){var i=e.ret.result,a=t.AXD.util.toDecimal2(i.firstpay/1e3),n=t.AXD.util.toDecimal2(i.itempay/1e3),o=t.AXD.util.toDecimal2(i.monthpay/1e3),s=t.AXD.util.toDecimal2(i.serverpay/1e3),r="（每期月供:￥"+o+" = 商品款:￥"+n+" + 服务费:￥"+s+"）";t("#J_firstpay").text(a),t("#J_firstpay2").text(a),t("#J_monthpay").text(o),t("#J_paytips").text(r),t("#J_Gofenqi").removeClass("disabled");var l=t("#J_MonthSelect,.J_months");0==o?l.fadeOut():l.fadeIn()}},error:function(){}})}function a(e){var i={},a=parseInt(t.trim(t("#J_InputNum").val())),n=parseInt(t("#J_Stock").attr("stock"));if(a>n)return t.AXD.tip.show(e,"库存不足~"),!1;if(0===a)return t.AXD.tip.show(e,"库存为0,不能加入购物车~"),!1;if(json.length>=1){if(!r)return t.AXD.tip.show(e,"请选择您要的商品信息"),!1;i.skuId=r,i.num=a}else i.skuId=myData[0].id,i.num=a;var o=i.skuId+","+i.num;return t('input[name="params"]').val(o),!0}function n(){var e=json.length,i=t(".goods-attrs"),a="";t.each(json,function(e,n){var o=n.kid,s="";a+='"'+n.k+'"',s+='<div data-kid="" data-vid="" class="goods-attr-unit clearfix Tom_subattributes J_Kind">',s+='<label class="fl"><span class="goods-attr-label gray-color" data-kid="'+o+'">'+n.k+':</span></label><div class="fl" style="width:500px">';var r=n.values;t.each(r,function(t,e){s+='      <span class="fl attr-box kind-span '+(0==t?"first":"")+'"data-vid="'+e.vid+'">'+e.v+" </span>"}),s+="</div></div>",i.append(t(s))}),t(".J_Kind_Name").html("请选择"+a);var n={},o=[],s=9999999,l=0;t.each(myData,function(e,i){var a=i.nameJson,r=i.price;r>l&&(l=r),s>r&&(s=r);var d="";""!=a&&(a=JSON.parse(a),t.each(a,function(t,e){var i=e.vid+"_";d+=i}),n[d]=e,0==i.avail&&o.push(d))}),myData.length>1&&s!=l&&t(".J_Price").html('<em class="fs11 text-yahei">￥</em>'+(s/100).toFixed(2)+" - "+(l/100).toFixed(2)),i.find(".goods-attr-unit .attr-box").click(function(a){var s=t(this);if(!s.hasClass("disabled")){0==s.closest(".J_Kind").index()&&(i.find(".kind-span a").removeClass(),r="");t(this).index();s.closest(".J_Kind").find(".attr-box").removeClass("checked"),s.addClass("checked");var l=i.find(".kind-span.checked"),d="";if(l[0]){if(l.length==e){t.each(l,function(e,i){d+=t(this).data("vid")+"_"});var c=myData[n[d]],u=c.avail-c.hold;return u=parseInt(u)<0?0:parseInt(u),t("#J_Stock i").attr("stock",u).text(u),t(".counts input").attr("max-value",u),0==u?(t(".counts input").val(u),t(".counts a").addClass("unc")):(t(".counts input").val(1),t(".counts a.add").removeClass("unc")),u>0?t("#J_Buy, #J_AddtoCart").removeClass("disabled"):t("#J_Buy, #J_AddtoCart").addClass("disabled"),t(".J_Price").html('<em class="fs11 text-yahei">￥</em>'+(c.price/100).toFixed(2)),t("#J_price").val(c.price),r=myData[n[d]].id,t("#J_InputNum").attr("max-value",u),void t('.counts:not(".noEdit") input').data("axd.numSelect").init()}if(l.length<e)for(var f=0;e>f;f++){var p=i.find(".J_Kind").eq(f).find(".checked").data("vid");if(p)for(var h=0,m=o.length;m>h;h++)if(o[h]){var v=o[h].split("_");if(v.pop(),v[f]==p)for(var g=0,m=v.length;m>g;g++)if(g!=f){i.find(".kind-span").eq(g)}}}}}})}datalazyload.init(),t("#J_AddtoCart").addtoCart({src:t(".goods-pic-box img"),target:t(".J_cart"),auto:!1}),t(".goods-pic-box").enlarge({largewidth:640,largeheight:640}),t(".calculator").on("click",function(){t.AXD.dialog.init({id:"J_CalcDialog",title:"分期计算器",html:t("#calDialog").html(),showtitle:!0,width:"800px",callback:function(){t(".months").click(function(){t(".tBack").hide(),t(".tMonth").toggle()}),t(".firstPay").click(function(){t(".tMonth").hide(),t(".tBack").toggle()});var e=t(".tBack li:eq(0)");t("#payBack").text(e.text()).attr("data-val",e.find("a").attr("data-val"));var a=t(".tMonth li:eq(0)");t("#monthNum").text(a.text()).attr("data-val",a.find("a").attr("data-val")),i()}})}),t(document).on("click",".tBack li",function(){t("#payBack").text(t(this).text()).attr("data-val",t(this).find("a").attr("data-val")),i()}),t(document).on("click",".tMonth li",function(){t("#monthNum").text(t(this).text()).attr("data-val",t(this).find("a").attr("data-val")),i()}),t(".listpic li").hover(function(){t(".listpic .light").removeClass("light"),t(this).addClass("light"),t(".goods-pic-box img").attr("src",t(this).find("img").attr("data-oimg"))},function(){});var o=t(".listpic li").outerWidth()+10,s=t(".listpic li").length;t(".listpic").css("width",o*s),t(".listpic-pre").on("click",function(){var e=t(".listpic").data("index")||0;0>=e||(e--,t(".listpic").animate({"margin-left":-1*e*o}),t(".listpic").data("index",e))}),t(".listpic-next").on("click",function(){var e=t(".listpic").data("index")||0;e>=s-5||(e++,t(".listpic").animate({"margin-left":-1*e*o}),t(".listpic").data("index",e))}),t('.counts:not(".noEdit") input').numSelect({callback:function(e,i){var a=parseInt(t("#J_Stock i").text());return 0==a?(t.AXD.tip.show(e,"库存为0,不能更新数量~"),!1):void 0}}),t("#J_Buy").on("click",function(e){e.preventDefault();var i=t(this);if(""===aixuedai.userid||aixuedai.userid<=0)return void(window.location.href="/login.html?url="+window.location.pathname+window.location.search);if(!a(i))return!1;var n={instalment:t('input[name="instalment"]').val()};n.skuIdNum=t('input[name="params"]').val(),t.AXD.getToCartConfirm(i,n,function(){i.closest("form").submit()},function(){return t.AXD.tip.show(i,"服务器出错了"),!1})}),t("#J_AddtoCart").on("click",function(e){if(e.preventDefault(),""===aixuedai.userid||aixuedai.userid<=0)return void(window.location.href="/login.html?url="+window.location.pathname+window.location.search);var i=self=t(this),a={},n=parseInt(t.trim(t("#J_InputNum").val())),o=parseInt(t("#J_Stock").attr("stock"));if(n>o)return t.AXD.tip.show(i,"库存不足~"),!1;if(0===n)return t.AXD.tip.show(i,"库存为0,不能加入购物车~"),!1;if(json.length>=1){if(!r)return t.AXD.tip.show(i,"请选择您要的商品信息"),!1;a.skuId=r,a.num=n}else a.skuId=myData[0].id,a.num=n;t.ajax({url:"/mall/cart/add",data:a,dataType:"json",type:"POST",success:function(e){e.ret.success===!0?(t("#J_AddtoCart").data("axd.addtoCart").addtoCartFunc(),t.AXD.getCartCount()):(t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(self,e.ret.resultDes),self.enableBtn())},error:function(){t.AXD.tip.conf.tipClass="tipmodal tipmodal-error",t.AXD.tip.show(self,"服务器繁忙，请稍候再试!"),self.enableBtn()}})});var r="";"undefined"!=typeof json&&json.length>0?n():t(".goods-attrs").remove(),t(".what").tips({edgeOffset:-10,content:'<p><span class="col_222" style="font-size:14px;line-height:30px;">爱学贷分期介绍</span><br> 爱学贷分期，是由爱学贷推出的赊购服务，先购物，慢慢还即刻拥有，无需等待。<br>面向用户：<br>面向全国正规统招全日制在校本/专科学生,包含研究生和博士生<br>产品特点：<br>&nbsp;&nbsp;&nbsp;&nbsp;1）0首付，支持最高24期分期<br>&nbsp;&nbsp;&nbsp;&nbsp;2）便捷还款<a href="/help_1.html" target="_blank" class="fr blue-color">了解更多&gt;&gt;</a></p>'}),t(".what-xin").tips({content:"<p>信用支付是爱学贷提供给消费者“这月买、下月还”的信用消费服务。<br>产品特点：<br>1.当月买，下月再还款，分期消费无压力<br>2.免费使用消费额度购物<br>3.还款方便，支持自动还款</p>",direction_v:"bottom"}),t("#J_kuaijie").tips({content:"<p>快捷支付（含卡通）是一种安全、便捷的支付方式，<br>对您的银行卡信息和身份信息进行校验，校验成功后即可开通。 开通成功后，输入支付密码即可轻松完成付款。</p>",direction_v:"bottom"}),t(".share_box").hover(function(){t(".share_holder").fadeIn()},function(){t(".share_holder").fadeOut()}),t(".share_box a").on("click",function(){console.log("ddd")});var l=t("div.leftPart1").eq(0),d=t("div.leftPart1").eq(1),c=t.AXD.util.getUrlParam("cat");t.get(c?"/common/getTopList?cateid="+c:"/common/getTopList",function(t){t?l.css("backgroundImage","none").append(t):l.css("backgroundImage","none").append("")});var u=new e("productId","/product/getBrowseHistory"),l=t("div.leftPart1").eq(0),d=t("div.leftPart1").eq(1);d.find("a").remove(),u.getProductCookie(d);var f=t.parseJSON(t.cookie("productId"))||[],p=t.AXD.util.getUrlParam("productId");f.indexOf(p)>=0?(f.splice(f.indexOf(p),1),f.push(p)):f[f.length]=p,f.length>5&&f.shift(),t.cookie("productId",JSON.stringify(f),{expires:7,path:"/"});var h=parseInt(t("#J_Stock i").text()),m=t("#J_AddtoCart");h>0?(t("#J_Buy").removeClass("disabled").val(0==m.length?"立即分期":"立即购买"),t("#J_AddtoCart").removeClass("disabled")):(t("#J_Buy").addClass("disabled").val(0==m.length?"立即分期":"立即购买"),t("#J_AddtoCart").addClass("disabled"))})}),requirejs(["common"],function(t){requirejs(["main","page/goods/detail","module/cookieFunc"])}),define("boot/goods/detail",function(){});